<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Empire: Rise of Legends</title>
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: #000;
        }

        /* --- ЭКРАН ЗАГРУЗКИ --- */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('loading_bg.png') no-repeat center center; /* ТВОЙ ФОН */
            background-size: cover;
            z-index: 1000;
            display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
            transition: opacity 1s ease-in-out;
        }

        .loader-bar {
            width: 50%; height: 15px; background: rgba(0,0,0,0.8);
            border: 1px solid #ffd700; border-radius: 20px; margin-bottom: 60px; overflow: hidden;
        }

        .loader-fill { width: 0%; height: 100%; background: #ffd700; transition: width 0.2s; }

        /* --- ГЛАВНЫЙ ЭКРАН --- */
        #main-ui {
            width: 100%; height: 100%;
            background: url('city_background.png') no-repeat center center; /* ФОН ГОРОДА */
            background-size: cover;
            position: relative;
        }

        /* Твоя панель ресурсов сверху */
        .top-panel {
            position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
            width: 1000px; height: 120px;
            background: url('resource_bar_panel.png') no-repeat center; /* ТВОЯ ПАНЕЛЬ */
            background-size: contain;
            display: flex; justify-content: space-around; align-items: center;
            padding: 0 40px;
        }

        .res-item { display: flex; align-items: center; gap: 5px; color: #ffd700; font-weight: bold; }
        .res-icon { width: 30px; height: 30px; object-fit: contain; }

        /* Твоё диалоговое окно */
        #dialog-box {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 800px; height: 200px;
            background: url('dialog_panel.png') no-repeat center; /* ТВОЯ ПАНЕЛЬ ДИАЛОГА */
            background-size: 100% 100%;
            display: flex; align-items: center; padding: 20px;
        }

        .kai-portrait {
            width: 140px; height: 140px;
            margin-left: 20px;
            background: url('kai_portrait.png') no-repeat center; /* ПОРТРЕТ КАЯ */
            background-size: contain;
        }

        .dialog-text-area {
            flex: 1; padding: 0 30px; color: white; font-family: 'serif';
        }

        .character-name { color: #ffaa00; font-size: 22px; margin-bottom: 5px; font-weight: bold; }
        .text-line { font-size: 18px; line-height: 1.3; }

        .btn-next {
            background: none; border: 1px solid #ffd700; color: #ffd700;
            cursor: pointer; padding: 5px 15px; position: absolute; bottom: 25px; right: 50px;
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <div class="loader-bar"><div id="fill" class="loader-fill"></div></div>
    </div>

    <div id="main-ui">
        <div class="top-panel">
            <div class="res-item"><img src="icon_bread.png" class="res-icon"><span id="b-val">1250</span></div>
            <div class="res-item"><img src="icon_wood.png" class="res-icon"><span id="w-val">5000</span></div>
            <div class="res-item"><img src="icon_stone.png" class="res-icon"><span id="s-val">3200</span></div>
            <div class="res-item"><img src="icon_iron_ore.png" class="res-icon"><span id="i-val">850</span></div>
            <div class="res-item"><img src="icon_silver_ingot.png" class="res-icon"><span id="si-val">120</span></div>
        </div>

        <div id="dialog-box">
            <div class="kai-portrait"></div>
            <div class="dialog-text-area">
                <div class="character-name">Кай</div>
                <div id="typewriter" class="text-line">Мой Лорд! Вы наконец очнулись. Взгляните — это всё, что осталось от нашего величия. Но мы всё исправим.</div>
                <button class="btn-next" onclick="nextPhrase()">Далее</button>
            </div>
        </div>
    </div>

    <script>
        // Загрузка
        let p = 0;
        let itv = setInterval(() => {
            p += 5;
            document.getElementById('fill').style.width = p + '%';
            if(p >= 100) {
                clearInterval(itv);
                setTimeout(() => { document.getElementById('loading-screen').style.opacity = '0'; 
                setTimeout(() => document.getElementById('loading-screen').style.remove(), 1000); }, 500);
            }
        }, 100);

        // Сюжет
        const story = [
            "Видите панель сверху? Это наши запасы. Дерева и камня хватит на первую ратушу.",
            "Я подготовил чертежи. Как только вы отдадите приказ, рабочие приступят к делу.",
            "Начнем строительство?"
        ];
        let currentIdx = 0;
        function nextPhrase() {
            if(currentIdx < story.length) {
                document.getElementById('typewriter').innerText = story[currentIdx];
                currentIdx++;
            } else {
                document.getElementById('dialog-box').style.display = 'none';
            }
        }
    </script>
</body>
</html>
