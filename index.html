<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Empire: –ö–∞–π - –≠–∫—Å–ø–µ–¥–∏—Ü–∏—è</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #111; font-family: 'Georgia', serif; color: white; }
        
        /* –ö–ê–†–¢–ê –ù–ê –§–û–ù–ï */
        #game-map {
            position: fixed; inset: 0;
            background: url('map.png') no-repeat center center / cover;
            filter: brightness(0.4); /* –ü—Ä–∏–≥–ª—É—à–∞–µ–º –∫–∞—Ä—Ç—É, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç —á–∏—Ç–∞–ª—Å—è */
            z-index: 1;
        }

        /* –ü–ê–ù–ï–õ–¨ –†–ï–°–£–†–°–û–í (–í 2 –†–Ø–î–ê) */
        #res-panel {
            position: fixed; top: 10px; right: 10px;
            background: rgba(0,0,0,0.8); border: 2px solid #ffd700;
            padding: 10px; border-radius: 8px; z-index: 100;
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
            font-size: 14px; font-weight: bold;
        }
        .res-item { color: #ffd700; display: flex; align-items: center; gap: 5px; }

        /* –û–ö–ù–û –°–û–ë–´–¢–ò–Ø */
        #event-window {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 500px;
            background: rgba(15, 15, 15, 0.95); border: 3px solid #ffd700;
            z-index: 200; display: flex; flex-direction: column;
        }
        .event-header { background: #ffd700; color: #000; padding: 5px 15px; font-weight: bold; text-transform: uppercase; }
        .event-body { padding: 20px; font-size: 16px; line-height: 1.4; border-bottom: 1px solid #333; }
        .event-footer { padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        
        .choice-btn {
            background: #222; color: #fff; border: 1px solid #ffd700; padding: 12px;
            text-align: left; cursor: pointer; transition: 0.2s; font-size: 14px;
        }
        .choice-btn:hover { background: #8b0000; }
        
        /* –ü–ê–ù–ï–õ–¨ –ö–ê–Ø (–ó–î–û–†–û–í–¨–ï) */
        #kai-status {
            position: fixed; top: 10px; left: 10px;
            background: rgba(0,0,0,0.8); border: 2px solid #ff4444;
            padding: 10px; border-radius: 8px; z-index: 100;
        }
        .hp-bar { width: 100px; height: 10px; background: #440000; margin-top: 5px; border: 1px solid #ff4444; }
        #hp-fill { width: 100%; height: 100%; background: #ff4444; transition: 0.5s; }
    </style>
</head>
<body>

    <div id="game-map"></div>

    <div id="res-panel">
        <div class="res-item">üçû <span id="res-bread">100</span></div>
        <div class="res-item">ü™µ <span id="res-wood">0</span></div>
        <div class="res-item">ü™® <span id="res-stone">0</span></div>
        <div class="res-item">‚õìÔ∏è <span id="res-iron">0</span></div>
        <div class="res-item">ü™ô <span id="res-silver">500</span></div>
        <div class="res-item">üèÜ <span id="res-gold">0</span></div>
    </div>

    <div id="kai-status">
        <div style="font-size: 12px; font-weight: bold; color: #ff4444;">–ú–ê–†–®–ê–õ –ö–ê–ô</div>
        <div class="hp-bar"><div id="hp-fill"></div></div>
    </div>

    <div id="event-window">
        <div class="event-header">–°–æ–±—ã—Ç–∏–µ: –°—Ç–∞—Ä—ã–π –º–æ—Å—Ç</div>
        <div class="event-body" id="event-text">
            –ú–æ–π –ª–æ—Ä–¥, –≤–ø–µ—Ä–µ–¥–∏ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –∫–∞—Ä–∞–≤–∞–Ω –ø–æ–¥ –º–æ—Å—Ç–æ–º. –¢–∞–º —Ä–∞—Å—Å—ã–ø–∞–Ω–æ —Å–µ—Ä–µ–±—Ä–æ –∏ –ø—Ä–æ–≤–∏–∑–∏—è, –Ω–æ –≤ —Ç–µ–Ω—è—Ö –º–æ–≥—É—Ç –ø—Ä—è—Ç–∞—Ç—å—Å—è —Ä–∞–∑–±–æ–π–Ω–∏–∫–∏. –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏–º?
        </div>
        <div class="event-footer" id="choices">
            <button class="choice-btn" onclick="makeChoice('stealth')">1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑–≤–µ–¥—á–∏–∫–æ–≤ –≤–±—Ä–æ–¥ (-20 –•–ª–µ–±–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ)</button>
            <button class="choice-btn" onclick="makeChoice('attack')">2. –ö–∞–π –≤–æ–∑–≥–ª–∞–≤–∏—Ç –∞—Ç–∞–∫—É (–†–∏—Å–∫ —Ä–∞–Ω–µ–Ω–∏—è, —à–∞–Ω—Å –Ω–∞ –∂–µ–ª–µ–∑–æ)</button>
            <button class="choice-btn" onclick="makeChoice('scrap')">3. –†–∞–∑–æ–±—Ä–∞—Ç—å –º–æ—Å—Ç –Ω–∞ —Å—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã (+–î–µ—Ä–µ–≤–æ, +–ö–∞–º–µ–Ω—å)</button>
        </div>
    </div>

<script>
    // –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    let resources = { bread: 100, wood: 0, stone: 0, iron: 0, silver: 500, gold: 0 };
    let kaiHP = 100;

    function updateUI() {
        document.getElementById('res-bread').innerText = resources.bread;
        document.getElementById('res-wood').innerText = resources.wood;
        document.getElementById('res-stone').innerText = resources.stone;
        document.getElementById('res-iron').innerText = resources.iron;
        document.getElementById('res-silver').innerText = resources.silver;
        document.getElementById('res-gold').innerText = resources.gold;
        document.getElementById('hp-fill').style.width = kaiHP + '%';
        
        if (kaiHP <= 0) {
            alert("–ú–ê–†–®–ê–õ –ö–ê–ô –ü–ê–õ! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ—Å–∫—Ä–µ—à–µ–Ω–∏–µ.");
            location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
        }
    }

    function makeChoice(type) {
        const text = document.getElementById('event-text');
        const footer = document.getElementById('choices');

        if (type === 'stealth') {
            if (resources.bread >= 20) {
                resources.bread -= 20;
                resources.silver += 200;
                resources.bread += 50;
                text.innerText = "–£—Å–ø–µ—Ö! –†–∞–∑–≤–µ–¥—á–∏–∫–∏ –∑–∞—à–ª–∏ –≤ —Ç—ã–ª. –†–∞–∑–±–æ–π–Ω–∏–∫–∏ –±–µ–∂–∞–ª–∏, –±—Ä–æ—Å–∏–≤ –µ–¥—É –∏ —Å–µ—Ä–µ–±—Ä–æ.";
            } else {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–ª–µ–±–∞!"); return;
            }
        } 
        else if (type === 'attack') {
            let hurt = Math.random() < 0.5; // 50% —à–∞–Ω—Å —Ä–∞–Ω–µ–Ω–∏—è
            if (hurt) {
                kaiHP -= 30;
                text.innerText = "–ü–æ–±–µ–¥–∞ –≥–æ—Ä—å–∫–∞! –í—ã –∑–∞—Ö–≤–∞—Ç–∏–ª–∏ –∫–∞—Ä–∞–≤–∞–Ω –∏ –∂–µ–ª–µ–∑–æ, –Ω–æ –ö–∞—è —Ä–∞–Ω–∏–ª–∏ —Å—Ç—Ä–µ–ª–æ–π –≤ –ø–ª–µ—á–æ.";
            } else {
                text.innerText = "–ë–ª–µ—Å—Ç—è—â–∞—è –ø–æ–±–µ–¥–∞! –†–∞–∑–±–æ–π–Ω–∏–∫–∏ —Ä–∞–∑–≥—Ä–æ–º–ª–µ–Ω—ã, –ö–∞–π –Ω–µ–≤—Ä–µ–¥–∏–º.";
            }
            resources.silver += 200;
            resources.iron += 10;
        } 
        else if (type === 'scrap') {
            resources.wood += 150;
            resources.stone += 80;
            text.innerText = "–í—ã —Ä–µ—à–∏–ª–∏ –Ω–µ —Ä–∏—Å–∫–æ–≤–∞—Ç—å. –ú–æ—Å—Ç —Ä–∞–∑–æ–±—Ä–∞–Ω, –ø–æ–≤–æ–∑–∫–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤—Ä–∞–≥—É, –Ω–æ —É –Ω–∞—Å —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã.";
        }

        footer.innerHTML = '<button class="choice-btn" onclick="nextEvent()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å...</button>';
        updateUI();
    }

    function nextEvent() {
        alert("–¢—É—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–µ –Ω–∞ –∫–∞—Ä—Ç–µ!");
        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–±—ã—Ç–∏—è –Ω–∞ –Ω–æ–≤–æ–µ
    }

    updateUI();
</script>
</body>
</html>
