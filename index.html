<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Empire: Rise of Legends</title>
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; font-family: 'Georgia', serif;
            background-color: #000;
        }

        /* --- ЗАГРУЗОЧНЫЙ ЭКРАН --- */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('loading_bg.png') no-repeat center center;
            background-size: cover;
            z-index: 1000;
            display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
            transition: opacity 1.5s ease-out;
        }

        .loader-bar {
            width: 60%; height: 20px; background: rgba(0,0,0,0.7);
            border: 2px solid #ffd700; border-radius: 10px; margin-bottom: 50px; overflow: hidden;
        }

        .loader-fill {
            width: 0%; height: 100%; background: linear-gradient(90deg, #8b4513, #ffd700);
            transition: width 0.3s;
        }

        /* --- ИГРОВОЙ МИР (ФОН ГОРОДА) --- */
        #game-world {
            position: relative; width: 100%; height: 100%;
            background: url('city_background.png') no-repeat center center;
            background-size: cover;
        }

        /* --- ПАНЕЛЬ РЕСУРСОВ --- */
        .resource-bar {
            position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
            display: flex; background: rgba(0,0,0,0.6);
            border: 2px solid #5a4a3a; border-radius: 10px; padding: 5px 20px; gap: 20px;
        }

        .resource-slot { display: flex; align-items: center; gap: 8px; }
        .icon { width: 35px; height: 35px; object-fit: contain; }
        .amount { color: #ffd700; font-weight: bold; font-size: 16px; min-width: 60px; }

        /* --- ОКНО ДИАЛОГА --- */
        #dialog-container {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            width: 750px; height: 160px; background: rgba(20, 15, 10, 0.9);
            border: 3px solid #8b4513; border-radius: 15px; display: flex; padding: 15px;
            color: white; box-shadow: 0 0 30px rgba(0,0,0,0.8);
        }

        .portrait { width: 130px; height: 130px; border: 2px solid #ffd700; border-radius: 10px; }
        .dialog-body { padding-left: 20px; flex: 1; }
        .name { color: #ffaa00; font-size: 20px; font-weight: bold; margin-bottom: 10px; }
        .next-btn { 
            background: #5a4a3a; color: #fff; border: 1px solid #ffd700; 
            padding: 5px 15px; cursor: pointer; float: right; margin-top: 10px;
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <h2 style="color: white; text-shadow: 2px 2px 5px #000;">Загрузка империи...</h2>
        <div class="loader-bar"><div id="fill" class="loader-fill"></div></div>
    </div>

    <div id="game-world">
        <div class="resource-bar">
            <div class="resource-slot"><img src="icon_bread.png" class="icon"><div id="bread-val" class="amount">1250</div></div>
            <div class="resource-slot"><img src="icon_wood.png" class="icon"><div id="wood-val" class="amount">5000</div></div>
            <div class="resource-slot"><img src="icon_stone.png" class="icon"><div id="stone-val" class="amount">3200</div></div>
            <div class="resource-slot"><img src="icon_iron_ore.png" class="icon"><div id="iron-val" class="amount">850</div></div>
            <div class="resource-slot"><img src="icon_silver_ingot.png" class="icon"><div id="silver-val" class="amount">120</div></div>
        </div>

        <div id="dialog-container">
            <img src="kai_portrait.png" class="portrait">
            <div class="dialog-body">
                <div class="name">Кай</div>
                <div id="text">Мой Лорд! Взгляните на эти руины... Но с вашей мудростью мы отстроим величайший город в истории!</div>
                <button class="next-btn" onclick="nextText()">Слушать дальше</button>
            </div>
        </div>
    </div>

    <script>
        // Эмуляция загрузки
        let progress = 0;
        const fill = document.getElementById('fill');
        const loader = document.getElementById('loading-screen');

        const interval = setInterval(() => {
            progress += Math.random() * 15;
            if (progress > 100) progress = 100;
            fill.style.width = progress + '%';
            
            if (progress === 100) {
                clearInterval(interval);
                setTimeout(() => {
                    loader.style.opacity = '0';
                    setTimeout(() => loader.style.display = 'none', 1500);
                }, 500);
            }
        }, 200);

        // Ресурсы
        let wood = 5000;
        setInterval(() => {
            wood += 1;
            document.getElementById('wood-val').innerText = Math.floor(wood);
        }, 2000);

        // Диалоги
        const story = [
            "Прежде всего, нам нужны лесопилки. Без дерева не построить даже хижину.",
            "Наши разведчики докладывают о залежах железа в северных горах.",
            "Готовы ли вы принять командование?"
        ];
        let step = 0;
        function nextText() {
            if(step < story.length) {
                document.getElementById('text').innerText = story[step];
                step++;
            } else {
                document.getElementById('dialog-container').style.display = 'none';
            }
        }
    </script>
</body>
</html>
