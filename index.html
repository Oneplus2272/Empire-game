<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Empire: Rise of Legends</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: 'serif'; }

        /* ФОН - КАРТА */
        #map {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('map.png') no-repeat center center;
            background-size: cover; z-index: 1;
        }

        /* ЗАГРУЗКА */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('loading_screen_marshal_kai.png') no-repeat center center;
            background-size: contain; background-color: #000; z-index: 2000;
        }
        #fill {
            position: absolute; bottom: 4.3%; left: 13.4%; height: 3.5%; width: 0%;
            background: #ffd700; box-shadow: 0 0 15px #ffd700; border-radius: 4px;
        }

        /* КАЙ В РАМКЕ (ПРАВИЛЬНЫЙ) */
        .kai-hud {
            position: absolute; top: 10px; left: 10px;
            width: 180px; height: 220px; z-index: 100;
        }
        .frame-img {
            position: absolute; width: 100%; height: 100%;
            background: url('interface_kai_frame.png') no-repeat center;
            background-size: contain; z-index: 5;
        }
        .portrait-mask {
            position: absolute; top: 14%; left: 12%; width: 76%; height: 51%;
            z-index: 2; overflow: hidden; background: #222;
        }
        .portrait-mask img { width: 100%; height: 100%; object-fit: cover; }

        /* КРУПНЫЕ ОТДЕЛЬНЫЕ РЕСУРСЫ */
        .resources-top {
            position: absolute; top: 10px; left: 200px; right: 20px;
            display: flex; justify-content: space-around; z-index: 90;
        }
        .res-block {
            display: flex; flex-direction: column; align-items: center;
            width: 120px; /* В 3 раза крупнее обычного */
        }
        .res-icon {
            width: 100px; height: 100px; /* Крупные иконки */
            background-size: contain; background-origin: content-box;
            background-repeat: no-repeat; background-position: center;
            filter: drop-shadow(0 0 5px rgba(0,0,0,0.8));
        }
        .res-val {
            color: #ffd700; font-weight: bold; font-size: 24px;
            text-shadow: 2px 2px 4px #000; margin-top: 5px;
        }

        /* СТАРЫЙ ДОБРЫЙ ДИАЛОГ */
        #dialog {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            width: 80%; max-width: 700px; padding: 20px;
            background: rgba(20, 15, 10, 0.9);
            border: 2px solid #b8860b; border-radius: 10px;
            color: #eee; text-align: center; font-size: 18px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); z-index: 150;
        }
    </style>
</head>
<body>

    <div id="loading-screen"><div id="fill"></div></div>
    <div id="map"></div>

    <div class="kai-hud">
        <div class="frame-img"></div>
        <div class="portrait-mask">
            <img src="marshal_blank.png">
        </div>
    </div>

    <div class="resources-top">
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_bread.png');"></div>
            <div class="res-val">500</div>
        </div>
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_wood.png');"></div>
            <div class="res-val">500</div>
        </div>
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_stone.png');"></div>
            <div class="res-val">500</div>
        </div>
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_iron.png');"></div>
            <div class="res-val">500</div>
        </div>
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_silver.png');"></div>
            <div class="res-val">500</div>
        </div>
        <div class="res-block">
            <div class="res-icon" style="background-image: url('resource_gold.png');"></div>
            <div class="res-val">500</div>
        </div>
    </div>

    <div id="dialog">
        Маршал Кай: "Мой Лорд, я убрал панель и увеличил иконки ресурсов. Теперь они видны издалека! Каковы будут ваши приказы по развитию империи?"
    </div>

    <script>
        let p = 0;
        let loader = setInterval(() => {
            p += 2;
            document.getElementById('fill').style.width = (p * 0.54) + '%';
            if(p >= 100) {
                clearInterval(loader);
                setTimeout(() => {
                    document.getElementById('loading-screen').style.opacity = '0';
                    setTimeout(() => document.getElementById('loading-screen').remove(), 1000);
                }, 500);
            }
        }, 50);
    </script>
</body>
</html>
