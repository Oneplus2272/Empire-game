<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Empire: Coordinate Picker</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #222; font-family: sans-serif; }

        /* ФОН ЗАГРУЗКИ (На весь экран для калибровки) */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: url('1000007369.png') no-repeat center center;
            background-size: contain; z-index: 2000;
        }

        /* КАРТА (Проверяем видимость) */
        #game-map {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('map.png') no-repeat center center;
            background-size: cover; z-index: 1;
        }

        /* ПОЛОСКА (ВИЗУАЛЬНАЯ ПРОВЕРКА) */
        #fill {
            position: absolute;
            background: rgba(255, 215, 0, 0.7);
            height: 10px; /* Пока просто полоска для теста */
            border: 1px solid white;
            pointer-events: none;
        }

        /* ИНФО-ПАНЕЛЬ (ДЛЯ ТЕБЯ) */
        #coords-info {
            position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: lime; padding: 15px;
            z-index: 3000; border-radius: 10px; text-align: center;
            pointer-events: none; width: 80%;
        }
    </style>
</head>
<body>

    <div id="coords-info">
        Кликни в НАЧАЛО шкалы, потом в КОНЕЦ.<br>
        <span id="output">Ожидание клика...</span>
    </div>

    <div id="loading-screen">
        <div id="fill"></div>
    </div>
    
    <div id="game-map"></div>

    <script>
        let clicks = [];
        const screen = document.getElementById('loading-screen');
        const output = document.getElementById('output');
        const fill = document.getElementById('fill');

        screen.onclick = function(e) {
            // Считаем координаты в процентах от экрана
            let x = (e.clientX / window.innerWidth) * 100;
            let y = (e.clientY / window.innerHeight) * 100;
            
            clicks.push({x, y});

            if (clicks.length === 1) {
                output.innerText = `Начало по X: ${x.toFixed(2)}%. Теперь кликни в конец шкалы.`;
                fill.style.left = x + "%";
                fill.style.top = y + "%";
                fill.style.width = "5px";
            } 
            else if (clicks.length === 2) {
                let startX = clicks[0].x;
                let endX = clicks[1].x;
                let width = endX - startX;
                let top = clicks[0].y;

                output.innerHTML = `Квадрат Кая готов! Координаты для шкалы:<br>
                <b>LEFT: ${startX.toFixed(2)}%</b><br>
                <b>WIDTH: ${width.toFixed(2)}%</b><br>
                <b>TOP: ${top.toFixed(2)}%</b>`;

                fill.style.width = width + "%";
                clicks = []; // Сброс для новой пробы
            }
        }
    </script>
</body>
</html>
